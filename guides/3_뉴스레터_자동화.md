# ë‚˜ë§Œì˜ AI ìë™í™” ë‰´ìŠ¤ë ˆí„° ë§Œë“¤ê¸°

## í”„ë¡œê·¸ë¨ ì†Œê°œ

ì´ í”„ë¡œê·¸ë¨ì€ **ë„¤ì´ë²„ ë‰´ìŠ¤ APIë¡œ â€˜AI ìë™í™”â€™ ê´€ë ¨ ìµœì‹  ë‰´ìŠ¤ë¥¼ ìˆ˜ì§‘í•˜ê³ , OpenAI GPT ëª¨ë¸ì„ ì´ìš©í•´ í•µì‹¬ ê¸°ì‚¬ë¥¼ ìš”ì•½í•œ ë’¤ ì´ë©”ì¼ë¡œ ë‰´ìŠ¤ë ˆí„° í˜•íƒœë¡œ ë°œì†¡í•˜ëŠ” Google Apps Script**ì…ë‹ˆë‹¤.
AI ìë™í™” ê´€ë ¨ ì¸ì‚¬ì´íŠ¸ë¥¼ ë§¤ì¼ ë˜ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ë°›ì•„ë³´ê³  ì‹¶ì€ ë¶„ë“¤ê»˜ ìœ ìš©í•©ë‹ˆë‹¤.

---

## ì‹¤í–‰ ë°©ë²•

### 1. ê°ì¢… í‚¤ ì…ë ¥

* **NAVER\_CLIENT\_ID**: ë„¤ì´ë²„ ë‰´ìŠ¤ API í´ë¼ì´ì–¸íŠ¸ ID. [ë°œê¸‰ ê°€ì´ë“œ](https://github.com/dabidstudio/dabidstudio_guides/blob/main/get-navernews-api-key.md)ë¥¼ ì°¸ê³ í•˜ì—¬ ë°œê¸‰ í›„ ì…ë ¥
* **NAVER\_CLIENT\_SECRET**: ìœ„ì™€ í•¨ê»˜ ë°œê¸‰ë˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì‹œí¬ë¦¿ì„ ì…ë ¥
* **OPENAI\_API\_KEY**: [OpenAI í‚¤ ë°œê¸‰ ê°€ì´ë“œ](https://github.com/dabidstudio/dabidstudio_guides/blob/main/get-openai-api-key.md)ë¥¼ ì°¸ê³ í•˜ì—¬ ë°œê¸‰ í›„ ì…ë ¥

---

### 2. Google Apps Script ì—´ê¸°

1. [https://script.new](https://script.new) ì— ì ‘ì†í•´ ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
2. ì•„ë˜ ì½”ë“œë¥¼ ë¶™ì—¬ë„£ê¸°

```javascript
function sendAIAutomationNewsletter() {
  const NAVER_CLIENT_ID = 'YOUR_NAVER_CLIENT_ID';
  const NAVER_CLIENT_SECRET = 'YOUR_NAVER_CLIENT_SECRET';
  const OPENAI_API_KEY = 'YOUR_OPENAI_API_KEY';
  const keyword = 'AI ìë™í™”';
  const encodedKeyword = encodeURIComponent(keyword);
  const naverApiUrl = `https://openapi.naver.com/v1/search/news.json?query=${encodedKeyword}&display=10&sort=date`;

  const naverOptions = {
    method: 'get',
    headers: {
      'X-Naver-Client-Id': NAVER_CLIENT_ID,
      'X-Naver-Client-Secret': NAVER_CLIENT_SECRET
    }
  };

  try {
    const response = UrlFetchApp.fetch(naverApiUrl, naverOptions);
    const result = JSON.parse(response.getContentText());
    const items = result.items;

    const articles = items.map(item => {
      return {
        title: item.title.replace(/<[^>]*>?/g, ''),
        link: item.link,
        description: item.description.replace(/<[^>]*>?/g, '')
      };
    });

    const prompt = `ë‹¤ìŒì€ "AI ìë™í™”"ì— ëŒ€í•œ ìµœì‹  ë‰´ìŠ¤ ê¸°ì‚¬ ëª©ë¡ì…ë‹ˆë‹¤:\n\n${articles.map((a, i) => `${i + 1}. ${a.title}`).join('\n')}\n\nì´ ì¤‘ì—ì„œ ìƒˆë¡œìš´ AI ìë™í™” ì‚¬ë¡€ ë°œêµ´ì— ê°€ì¥ ê´€ë ¨ì„±ì´ ë†’ì€ 5ê°œì˜ ê¸°ì‚¬ë¥¼ ì„ ë³„í•˜ê³ , ê° ê¸°ì‚¬ì˜ í•µì‹¬ ë‚´ìš©ì„ ìš”ì•½í•˜ì—¬ ìŠ¤í† ë¦¬ í˜•íƒœë¡œ ì‘ì„±í•´ ì£¼ì„¸ìš”.`;

    const openaiResponse = UrlFetchApp.fetch('https://api.openai.com/v1/chat/completions', {
      method: 'post',
      contentType: 'application/json',
      headers: {
        Authorization: `Bearer ${OPENAI_API_KEY}`
      },
      payload: JSON.stringify({
        model: 'gpt-3.5-turbo',
        messages: [
          { role: 'system', content: 'ë‹¹ì‹ ì€ AI ìë™í™” ë‰´ìŠ¤ë ˆí„°ë¥¼ ì‘ì„±í•˜ëŠ” ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤.' },
          { role: 'user', content: prompt }
        ],
        max_tokens: 1000,
        temperature: 0.7
      })
    });

    const openaiResult = JSON.parse(openaiResponse.getContentText());
    const summary = openaiResult.choices[0].message.content;

    const today = Utilities.formatDate(new Date(), "Asia/Seoul", "yyyy.MM.dd");
    const htmlBody = `
      <div style="font-family: Arial, sans-serif; padding: 20px;">
        <h2 style="color: #2e6c80;">ğŸ“¬ ì˜¤ëŠ˜ì˜ AI ìë™í™” ë‰´ìŠ¤ë ˆí„° (${today})</h2>
        <p>ì•ˆë…•í•˜ì„¸ìš”,</p>
        <p>ìƒˆë¡œìš´ AI ìë™í™” ì‚¬ë¡€ ë°œêµ´ì— ê´€ì‹¬ì´ ìˆëŠ” ë¶„ë“¤ì„ ìœ„í•´, ìµœì‹  ë‰´ìŠ¤ë¥¼ ì„ ë³„í•˜ì—¬ ìš”ì•½í•œ ë‚´ìš©ì„ ì•„ë˜ì— ì „ë‹¬ë“œë¦½ë‹ˆë‹¤.</p>
        <div style="background-color: #f4f4f4; padding: 15px; border-radius: 5px;">
          ${summary.replace(/\n/g, '<br>')}
        </div>
        <p>ë” ìì„¸í•œ ë‚´ìš©ì€ ê° ê¸°ì‚¬ì˜ ë§í¬ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”:</p>
        <ul>
          ${articles.map(a => `<li><a href="${a.link}" target="_blank">${a.title}</a></li>`).join('')}
        </ul>
        <p style="font-size: small; color: gray;">ë³¸ ë‰´ìŠ¤ë ˆí„°ëŠ” ë„¤ì´ë²„ ë‰´ìŠ¤ì—ì„œ 'AI ìë™í™”' í‚¤ì›Œë“œë¡œ ìˆ˜ì§‘ëœ ê¸°ì‚¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ChatGPTë¥¼ í™œìš©í•˜ì—¬ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
      </div>
    `;

    const emailList = ['example1@example.com', 'example2@example.com']; // ì—¬ê¸°ì— ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì¶”ê°€í•˜ì„¸ìš”

    emailList.forEach(email => {
      GmailApp.sendEmail(email, `ğŸ“¬ ì˜¤ëŠ˜ì˜ AI ìë™í™” ë‰´ìŠ¤ë ˆí„° (${today})`, 'HTML í˜•ì‹ì˜ ë‰´ìŠ¤ë ˆí„°ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.', {
        htmlBody: htmlBody
      });
    });

  } catch (e) {
    Logger.log("ì˜¤ë¥˜ ë°œìƒ: " + e.message);
  }
}
```

---

### 3. ì´ë©”ì¼ ìˆ˜ì‹ ì ì„¤ì •

```javascript
const emailList = ['example1@example.com', 'example2@example.com'];
```

ìœ„ ë°°ì—´ì— ë‰´ìŠ¤ë ˆí„°ë¥¼ ë°›ì„ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì§ì ‘ ì¶”ê°€í•˜ì„¸ìš”. Gmail ê³„ì • ê°„ ë°œì†¡ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

### 4. íŠ¸ë¦¬ê±° ì„¤ì • (ì„ íƒ ì‚¬í•­)

1. ìƒë‹¨ ë©”ë‰´ â†’ ì‹œê³„ ì•„ì´ì½˜ í´ë¦­
2. `sendAIAutomationNewsletter` í•¨ìˆ˜ ì„ íƒ
3. ì‹œê°„ ê¸°ë°˜ â†’ ë§¤ì¼ ë˜ëŠ” ë§¤ì£¼ ì›í•˜ëŠ” ì‹œê°„ ì„¤ì •
4. ì €ì¥ 
